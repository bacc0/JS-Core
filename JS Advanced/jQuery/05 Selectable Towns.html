<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Selectable Towns</title>
        <style>
            li {
                display: inline-block;
                cursor: pointer;
                padding: 10px 20px;
                background-color: rgba(240, 240, 240, 0.555);
                border-radius: 2px;
                margin: 0 2px ;
                box-shadow: 0 1px 7px rgba(117, 117, 117, 0.726);
            }
            .clicked{
                background: linear-gradient(rgb(102, 102, 102), rgb(87, 87, 87));
                color: white;
                box-shadow: 0 0 0px rgba(59, 59, 59, 0.726);
            }
            ul {
                padding: 0;
            }
            #selectedTowns{
                display: none;
            }
           
        </style>
        <script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
        
    </head>
    <body>
        <h2>Towns</h2>
        <ul id="items">
            <li>Paris</li>
            <li>Moscow</li>
            <li>Sofia</li>
            <li>Berlin</li>
            <li>London</li>
            <li>New York</li>
            <li>Tokyo</li>
        </ul>
        <button id="showTownsButton">Show Towns</button>
        <div id="selectedTowns">Selected towns: </div>

        <script>
            $(attachEvents());
            
            function attachEvents() {
                $('#items li').click(changeStile);

                function changeStile() {

                    if($(this).hasClass('clicked')) {
                        $(this).removeClass('clicked');
                    }
                    else {
                        $(this).addClass('clicked');
                    }
                }   
            }

            $('#showTownsButton').on('click', function() {

                 let arr = $('.clicked')
                              .toArray()
                              .map(x => x.textContent)
                              .join(', ');
                
                $('#selectedTowns').append(`${arr} `)
                                   .css('display', 'inline');
            });
        </script>
    </body>
</html>