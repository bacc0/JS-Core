<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Selectable Towns</title>
        <style>
            li {
                display: inline-block;
                cursor: pointer;
                padding: 10px 20px;
                background-color: rgb(218, 218, 218);
                border-radius: 2px;
                margin: 0 2px ;
            }
            .clicked{
                background-color: rgb(126, 126, 126);
                color: white;
            }
            ul {
                padding: 0;
            }
        </style>
        <script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
        
    </head>
    <body>
        <h2>Towns</h2>
        <ul id="items">
            <li>Sofia</li>
            <li>Varna</li>
            <li>Plovdiv</li>
            <li>Bourgas</li>
            <li>Rousse</li>
        </ul>
        <button id="showTownsButton">Show Towns</button>
        <div id="selectedTowns"></div>

        <script>
            $(attachEvents());
            
            function attachEvents() {
                $('#items li').click(changeStile);

                function changeStile() {

                    if($(this).hasClass('clicked')) {
                        $(this).removeClass('clicked');
                    }
                    else {
                        $(this).addClass('clicked');
                    }
                }   
            }

            $('#showTownsButton').on('click', function() {

                 let arr = $('.clicked')
                 .toArray()
                 .map(c => c.textContent)
                 .join(', ');
                
                $('#selectedTowns').append(`Selected towns: ${arr} `);
            });
        </script>
    </body>
</html>